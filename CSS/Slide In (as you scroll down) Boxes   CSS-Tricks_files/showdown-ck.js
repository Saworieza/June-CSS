var Showdown={};Showdown.converter=function(){var e,t,n,r=0;this.makeHtml=function(r){e=new Array;t=new Array;n=new Array;r=r.replace(/~/g,"~T");r=r.replace(/\$/g,"~D");r=r.replace(/\r\n/g,"\n");r=r.replace(/\r/g,"\n");r="\n\n"+r+"\n\n";r=O(r);r=r.replace(/^[ \t]+$/mg,"");r=s(r);r=i(r);r=u(r);r=L(r);r=r.replace(/~D/g,"$$");r=r.replace(/~T/g,"~");return r};var i=function(n){var n=n.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|\Z)/gm,function(n,r,i,s,o){r=r.toLowerCase();e[r]=T(i);if(s)return s+o;o&&(t[r]=o.replace(/"/g,"&quot;"));return""});return n},s=function(e){e=e.replace(/\n/g,"\n\n");var t="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del",n="p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math";e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,o);e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,o);e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,o);e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,o);e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,o);e=e.replace(/\n\n/g,"\n");return e},o=function(e,t){var r=t;r=r.replace(/\n\n/g,"\n");r=r.replace(/^\n/,"");r=r.replace(/\n+$/g,"");r="\n\n~K"+(n.push(r)-1)+"K\n\n";return r},u=function(e){e=d(e);var t=y("<hr />");e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,t);e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,t);e=e.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,t);e=m(e);e=g(e);e=S(e);e=s(e);e=x(e);return e},a=function(e){e=b(e);e=f(e);e=N(e);e=h(e);e=l(e);e=C(e);e=T(e);e=E(e);e=e.replace(/  +\n/g," <br />\n");return e},f=function(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");t=M(t,"\\`*_");return t});return e},l=function(e){e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,c);e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,c);e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,c);return e},c=function(n,r,i,s,o,u,a,f){f==undefined&&(f="");var l=r,c=i,h=s.toLowerCase(),p=o,d=f;if(p==""){h==""&&(h=c.toLowerCase().replace(/ ?\n/g," "));p="#"+h;if(e[h]!=undefined){p=e[h];t[h]!=undefined&&(d=t[h])}else{if(!(l.search(/\(\s*\)$/m)>-1))return l;p=""}}p=M(p,"*_");var v='<a href="'+p+'"';if(d!=""){d=d.replace(/"/g,"&quot;");d=M(d,"*_");v+=' title="'+d+'"'}v+=">"+c+"</a>";return v},h=function(e){e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,p);e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,p);return e},p=function(n,r,i,s,o,u,a,f){var l=r,c=i,h=s.toLowerCase(),p=o,d=f;d||(d="");if(p==""){h==""&&(h=c.toLowerCase().replace(/ ?\n/g," "));p="#"+h;if(e[h]==undefined)return l;p=e[h];t[h]!=undefined&&(d=t[h])}c=c.replace(/"/g,"&quot;");p=M(p,"*_");var v='<img src="'+p+'" alt="'+c+'"';d=d.replace(/"/g,"&quot;");d=M(d,"*_");v+=' title="'+d+'"';v+=" />";return v},d=function(e){function t(e){return e.replace(/[^\w]/g,"").toLowerCase()}e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,n){return y('<h1 id="'+t(n)+'">'+a(n)+"</h1>")});e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,n){return y('<h2 id="'+t(n)+'">'+a(n)+"</h2>")});e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,n,r){var i=n.length;return y("<h"+i+' id="'+t(r)+'">'+a(r)+"</h"+i+">")});return e},v,m=function(e){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;if(r)e=e.replace(t,function(e,t,n){var r=t,i=n.search(/[*+-]/g)>-1?"ul":"ol";r=r.replace(/\n{2,}/g,"\n\n\n");var s=v(r);s=s.replace(/\s+$/,"");s="<"+i+">"+s+"</"+i+">\n";return s});else{t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g;e=e.replace(t,function(e,t,n,r){var i=t,s=n,o=r.search(/[*+-]/g)>-1?"ul":"ol",s=s.replace(/\n{2,}/g,"\n\n\n"),u=v(s);u=i+"<"+o+">\n"+u+"</"+o+">\n";return u})}e=e.replace(/~0/,"");return e};v=function(e){r++;e=e.replace(/\n{2,}$/,"\n");e+="~0";e=e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(e,t,n,r,i){var s=i,o=t,f=n;if(o||s.search(/\n{2,}/)>-1)s=u(A(s));else{s=m(A(s));s=s.replace(/\n$/,"");s=a(s)}return"<li>"+s+"</li>\n"});e=e.replace(/~0/g,"");r--;return e};var g=function(e){e+="~0";e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var r=t,i=n;r=w(A(r));r=O(r);r=r.replace(/^\n+/g,"");r=r.replace(/\n+$/g,"");r="<pre><code>"+r+"\n</code></pre>";return y(r)+i});e=e.replace(/~0/,"");return e},y=function(e){e=e.replace(/(^\n+|\n+$)/g,"");return"\n\n~K"+(n.push(e)-1)+"K\n\n"},b=function(e){e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r,i){var s=r;s=s.replace(/^([ \t]*)/g,"");s=s.replace(/[ \t]*$/g,"");s=w(s);return t+"<code>"+s+"</code>"});return e},w=function(e){e=e.replace(/&/g,"&amp;");e=e.replace(/</g,"&lt;");e=e.replace(/>/g,"&gt;");e=M(e,"*_{}[]\\",!1);return e},E=function(e){e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>");e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>");return e},S=function(e){e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;n=n.replace(/^[ \t]*>[ \t]?/gm,"~0");n=n.replace(/~0/g,"");n=n.replace(/^[ \t]+$/gm,"");n=u(n);n=n.replace(/(^|\n)/g,"$1  ");n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;n=n.replace(/^  /mg,"~0");n=n.replace(/~0/g,"");return n});return y("<blockquote>\n"+n+"\n</blockquote>")});return e},x=function(e){e=e.replace(/^\n+/g,"");e=e.replace(/\n+$/g,"");var t=e.split(/\n{2,}/g),r=new Array,i=t.length;for(var s=0;s<i;s++){var o=t[s];if(o.search(/~K(\d+)K/g)>=0)r.push(o);else if(o.search(/\S/)>=0){o=a(o);o=o.replace(/^([ \t]*)/g,"<p>");o+="</p>";r.push(o)}}i=r.length;for(var s=0;s<i;s++)while(r[s].search(/~K(\d+)K/)>=0){var u=n[RegExp.$1];u=u.replace(/\$/g,"$$$$");r[s]=r[s].replace(/~K\d+K/,u)}return r.join("\n\n")},T=function(e){e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;");return e},N=function(e){e=e.replace(/\\(\\)/g,_);e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,_);return e},C=function(e){e=e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>');e=e.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(e,t){return k(L(t))});return e},k=function(e){function t(e){var t="0123456789ABCDEF",n=e.charCodeAt(0);return t.charAt(n>>4)+t.charAt(n&15)}var n=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+t(e)+";"},function(e){return e}];e="mailto:"+e;e=e.replace(/./g,function(e){if(e=="@")e=n[Math.floor(Math.random()*2)](e);else if(e!=":"){var t=Math.random();e=t>.9?n[2](e):t>.45?n[1](e):n[0](e)}return e});e='<a href="'+e+'">'+e+"</a>";e=e.replace(/">.+:/g,'">');return e},L=function(e){e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)});return e},A=function(e){e=e.replace(/^(\t|[ ]{1,4})/gm,"~0");e=e.replace(/~0/g,"");return e},O=function(e){e=e.replace(/\t(?=\t)/g,"    ");e=e.replace(/\t/g,"~A~B");e=e.replace(/~B(.+?)~A/g,function(e,t,n){var r=t,i=4-r.length%4;for(var s=0;s<i;s++)r+=" ";return r});e=e.replace(/~A/g,"    ");e=e.replace(/~B/g,"");return e},M=function(e,t,n){var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var i=new RegExp(r,"g");e=e.replace(i,_);return e},_=function(e,t){var n=t.charCodeAt(0);return"~E"+n+"E"}};typeof exports!="undefined"&&(exports.Showdown=Showdown);